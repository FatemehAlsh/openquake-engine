#!/usr/bin/env python3
import argparse
from openquake.engine.impact import main_cmd, trivial_callback


def parse_args():
    parser = argparse.ArgumentParser(
        description="Run OQ Impact calculation.")
    parser.add_argument("--usgs_id", type=str, default='FromFile', help="USGS ID")
    parser.add_argument("--rupture_file", type=str, default=None,
                        help="Path to rupture file")
    parser.add_argument("--time_event", type=str, default="day", help="Time event")
    parser.add_argument("--maximum_distance", type=str, default="200",
                        help="Maximum distance")
    parser.add_argument("--mosaic_model", type=str, default=None, help="Mosaic model")
    parser.add_argument("--trt", type=str, default=None, help="TRT")
    parser.add_argument("--truncation_level", type=str, default="3",
                        help="Truncation level")
    parser.add_argument("--number_of_ground_motion_fields", type=str, default="10",
                        help="Number of ground motion fields")
    parser.add_argument("--asset_hazard_distance", type=str, default="15",
                        help="Asset hazard distance")
    parser.add_argument("--ses_seed", type=str, default="42", help="SES seed")
    parser.add_argument("--local_timestamp", type=str, default="",
                        help="Local timestamp")
    parser.add_argument("--exposure_hdf5", type=str, default=None,
                        help="Exposure HDF5 file")
    parser.add_argument("--station_data_file", type=str, default=None,
                        help="Station data file")
    parser.add_argument("--maximum_distance_stations", type=str, default="",
                        help="Maximum distance stations")
    parser.add_argument("--msr", type=str, default="",
                        help="MSR")
    parser.add_argument("--approach", type=str, default="use_shakemap_from_usgs",
                        help="Approach")
    parser.add_argument("--loglevel", type=str, default="info", help="Log level")
    parser.add_argument("--userlevel", type=int, default=2, help="User level")

    return parser.parse_args()


if __name__ == "__main__":
    # us7000k9f0
    args = parse_args()

    main_cmd(
        usgs_id=args.usgs_id,
        rupture_file=args.rupture_file,
        callback=trivial_callback,
        time_event=args.time_event,
        maximum_distance=args.maximum_distance,
        mosaic_model=args.mosaic_model,
        trt=args.trt,
        truncation_level=args.truncation_level,
        number_of_ground_motion_fields=args.number_of_ground_motion_fields,
        asset_hazard_distance=args.asset_hazard_distance,
        ses_seed=args.ses_seed,
        local_timestamp=args.local_timestamp,
        exposure_hdf5=args.exposure_hdf5,
        station_data_file=args.station_data_file,
        maximum_distance_stations=args.maximum_distance_stations,
        msr=args.msr,
        approach=args.approach,
        loglevel=args.loglevel,
        userlevel=args.userlevel
    )
